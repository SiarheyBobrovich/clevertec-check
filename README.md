Тестовое задание 1

Требования к приложению:
Стек: Java 21
Разработать консольное приложение, реализующее функционал формирования чека в магазине
В данном задании важно показать понимание ООП, умение строить модели (выделять классы, интерфейсы, их связи), разделять
функционал между ними, а также знать синтаксис самого языка. Обязательно применение паттернов проектирования (Factory,
Builder, Decorator). Обратить внимание на устойчивость к изменениям в логике и избегать копипаста
Приложение должно запускаться с помощью консольной команды:
java ̺ RunnerClassName ̺ id-quantity ̺ discountCard=xxxx ̺ balanceDebitCard=xxxx
где:
id - идентификатор товара (см. Таблицу 1)
quantity - количество товара
discountCard=xxxx - название и номер дисконтной карты (см. Таблицу 2)
balanceDebitCard=xxxx - баланс на дебетовой карте

Примечание:
все указываем через пробел.
id-quantity - добавляем префикс id-(количество товара). В наборе параметров должна быть минимум одна такая связка "
id-quantity"
discountCard=xxxx - добавляем префикс discountCard=(любые четыре цифры)
balanceDebitCard=xxxx - указываем префикс balanceDebitCard=(любая сумма на счете). Сумма может быть как и с двумя
знаками после запятой, так и отрицательной
если на счете недостаточно денег, то приложение завершается с ошибкой (без печати CSV-файла)

      Пример: 

java ̺ RunnerClassName ̺ 3-1 ̺ 2-5 ̺ 5-1 ̺ discountCard=1111 ̺ balanceDebitCard=100

    По команде выше должен сформироваться CSV-файл содержащий в себе список товаров и их количество с ценой, а также рассчитанную сумму с учетом скидки по предъявленной карте, если она есть. Расшифровка команды: (3-1) 3- это товар с id = 3,  1 - количество (1шт);  тоже самое с (2-5) id=2 в количестве 5 штук, (5-1) id=5 - одна штука и т. д.; discountCard=1111 - означает, что была предъявлена скидочная карта с номером 1111. Необходимо продублировать чек в консоль (рисунок 1)

Среди товаров, предусмотрены оптовые (Таблица 1, колонка wholesale goods). Если в чеке, в оптовой позиции пять и более
товаров, то сделать скидку 10% по этой позиции (если применяется оптовая скидка 10% на позицию, то на данную позицию не
действует персональная скидка по карте, например 3%). Данную информацию отразить в чеке ?? и так же в чеке акционные
товары должны начинаться с "*" ???
Набор товаров и скидочных карт вычитывать из файла (названия файлов произвольные). Их количество и номенклатура взять
строго из Таблицы 1 и Таблицы 2 (изменять или добавлять ничего нельзя)
Реализовать обработку исключений (например, товара с id или файла не существует и т. д.)
Реализовать вывод чека в CSV-файл (формат приведен на схеме 1). Также продублировать расширенно всю необходимую
информацию в консоль (на свое усмотрение что и как)
Описать README.md файл в свободной форме (используемый стек, инструкцию по запуску)
Исходники разместить в присланном репозитории в ветке feature/core
Покрыть функционал юнит-тестами (не менее 70 %)

Таблица 1. Список доступных goods

| id | description                    | price, $ | quantity  in stock | wholesale goods |
|----|--------------------------------|----------|--------------------|-----------------|
| 1  | Milk                           | 1,07     | 1,07               | +               |
| 2  | cream 400g                     | 2,71     | 2,71               | +               |
| 3  | Yogurt 400g                    | 2,10     | 2,10               | +               |
| 4  | Packed potatoes 1kg            | 1,47     | 1,47               | -               |
| 5  | Packed cabbage 1kg             | 1,19     | 1,19               | -               |
| 6  | Packed tomatoes 350g           | 1,60     | 1,60               | -               |
| 7  | Packed apples 1kg              | 2,78     | 2,78               | -               |
| 8  | Packed oranges 1kg             | 3,20     | 3,20               | -               |
| 9  | Packed bananas 1kg             | 1,10     | 1,10               | +               |
| 10 | Packed beef fillet 1kg         | 12,8     | 12,8               | -               |
| 11 | Packed pork fillet 1kg         | 8,52     | 8,52               | -               |
| 12 | Packed chicken breasts 1kgSour | 10,75    | 10,75              | -               |
| 13 | Baguette 360g                  | 1,30     | 1,30               | +               |
| 14 | Drinking water 1,5l            | 0,80     | 0,80               | -               |
| 15 | Olive oil 500ml                | 5,30     | 5,30               | -               |
| 16 | Sunflower oil 1l               | 1,20     | 1,20               | -               |
| 17 | Chocolate Ritter sport 100g    | 1,10     | 1,10               | +               |
| 18 | Paulaner 0,5l                  | 1,10     | 1,10               | -               |
| 19 | Whiskey Jim Beam 1l            | 13,99    | 13,99              | -               |
| 20 | Whiskey Jack Daniels 1l        | 17,19    | 17,19              | -               |

| id                                                                         | discountcard | discount amount, % |
|----------------------------------------------------------------------------|--------------|--------------------|
| 1                                                                          | 1111         | 3                  |
| 2                                                                          | 2222         | 3                  |
| 3                                                                          | 3333         | 4                  |
| 4                                                                          | 4444         | 5                  |
| Любая другая дисконтная карта с вашим<br/> номером предоставляет 2% скидки |
| 5                                                                          | XXXX         | 2                  |
| 6                                                                          | XXXX         | 2                  |
| 7                                                                          | XXXX         | 2                  |
